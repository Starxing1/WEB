 <!DOCTYPE html>  
 <html>  
<head>
<title>javascript图片上传预览</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />  
 </head>  
<body>  
 <div id="preview"></div>  
<input type="file" onchange="preview(this)" />  
 <script type="text/javascript">    
 function preview(file)  
 {  
 var prevDiv = document.getElementById('preview');  
 if (file.files && file.files[0])  
 {  
 var reader = new FileReader();  
 reader.onload = function(evt){  
 prevDiv.innerHTML = '<img src="' + evt.target.result + '" />';  
}    
 reader.readAsDataURL(file.files[0]);  
}  
 else
 {  
 prevDiv.innerHTML = '<div class="img" style="filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=\'' + file.value + '\'"></div>';  
 }  
 }  
 </script>
 </body>  
 </html>
